<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TrustCade - Spin & Win Real Prizes</title>
    <meta name="description" content="Spin daily and win real prizes! iPhone 17, PS5, cash prizes, and more. Free daily spin, verified winners, secure platform.">
    <meta name="keywords" content="spin wheel, win prizes, daily spin, free prizes, iPhone, PS5, cash prizes">
    
    <!-- Open Graph for Social Sharing -->
    <meta property="og:title" content="TrustCade - Spin & Win Real Prizes">
    <meta property="og:description" content="Win iPhone 17, PS5, cash prizes and more with daily free spins!">
    <meta property="og:image" content="https://images.unsplash.com/photo-1578303512597-81e6cc155b3e?ixlib=rb-1.2.1&auto=format&fit=crop&w=1200&q=80">
    <meta property="og:url" content="https://trustcade.com">
    
    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="assets/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/favicon-16x16.png">
    <link rel="manifest" href="assets/site.webmanifest">
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Preload critical images -->
    <link rel="preload" href="https://images.unsplash.com/photo-1578303512597-81e6cc155b3e?ixlib=rb-1.2.1&auto=format&fit=crop&w=300&q=80" as="image">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://trustcade.com">
    <style>
        /* Additional inline styles for spin wheel */
        .wheel-container {
            position: relative;
            width: 400px;
            height: 400px;
            margin: 0 auto;
        }
        
        #wheelCanvas {
            width: 100%;
            height: 100%;
            transition: transform 5s cubic-bezier(0.2, 0.8, 0.3, 1);
        }
        
        .spin-pointer {
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            color: #ff0000;
            font-size: 40px;
            z-index: 10;
        }
        
        .wheel-prizes {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin-top: 30px;
        }
        
        .prize-indicator {
            background: var(--prize-color, #4ECDC4);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 14px;
        }
        
        /* Enhanced notification */
        .win-notification {
            position: fixed;
            top: 100px;
            right: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            z-index: 1000;
            animation: slideIn 0.5s ease;
            max-width: 350px;
        }
        
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        .notification-content {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .notification-icon {
            font-size: 40px;
            animation: bounce 2s infinite;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        /* Timer enhancements */
        .timer {
            display: flex;
            justify-content: center;
            gap: 10px;
            font-size: 32px;
            font-weight: 700;
            margin: 20px 0;
        }
        
        .time-unit {
            background: #2d3748;
            padding: 15px;
            border-radius: 10px;
            min-width: 70px;
            text-align: center;
            color: white;
        }
        
        .time-unit small {
            display: block;
            font-size: 12px;
            font-weight: 400;
            margin-top: 5px;
            color: #a0aec0;
        }
        
        .progress-bar {
            height: 8px;
            background: #e2e8f0;
            border-radius: 4px;
            overflow: hidden;
            margin: 20px 0;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4ade80, #3b82f6);
            width: 0%;
            transition: width 1s linear;
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div id="loadingScreen" class="loading-screen">
        <div class="loading-spinner">
            <i class="fas fa-gift fa-spin"></i>
        </div>
        <p>Loading TrustCade...</p>
    </div>

    <!-- Header -->
    <header>
        <div class="container">
            <div class="logo">
                <a href="index.html" class="logo-link">
                    <h1><i class="fas fa-gift"></i> TrustCade</h1>
                    <p class="tagline">Spin & Win Real Prizes</p>
                </a>
            </div>
            <nav class="desktop-nav">
                <a href="#spin" class="btn-spin"><i class="fas fa-redo"></i> SPIN NOW</a>
                <a href="winners.html"><i class="fas fa-trophy"></i> Winners</a>
                <a href="profile.html"><i class="fas fa-user"></i> My Prizes</a>
                <a href="#prizes"><i class="fas fa-gifts"></i> Prizes</a>
                <button class="btn-login" id="loginBtn">
                    <i class="fas fa-sign-in-alt"></i> Login
                </button>
            </nav>
            <button class="mobile-menu-btn" id="mobileMenuBtn" aria-label="Toggle menu">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </header>

    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobileMenu">
        <div class="mobile-menu-header">
            <h3><i class="fas fa-gift"></i> TrustCade</h3>
            <button class="mobile-menu-close" id="mobileMenuClose">&times;</button>
        </div>
        <div class="mobile-menu-links">
            <a href="index.html" class="active"><i class="fas fa-home"></i> Home</a>
            <a href="#spin"><i class="fas fa-redo"></i> Spin Wheel</a>
            <a href="winners.html"><i class="fas fa-trophy"></i> Winners</a>
            <a href="profile.html"><i class="fas fa-user"></i> My Prizes</a>
            <a href="#prizes"><i class="fas fa-gifts"></i> Prizes</a>
            <a href="login.html" id="mobileLoginBtn"><i class="fas fa-sign-in-alt"></i> Login</a>
            <a href="register.html"><i class="fas fa-user-plus"></i> Register</a>
            <a href="faq.html"><i class="fas fa-question-circle"></i> FAQ</a>
            <a href="contact.html"><i class="fas fa-envelope"></i> Contact</a>
        </div>
        <div class="mobile-menu-footer">
            <div class="mobile-trust-badges">
                <span><i class="fas fa-shield-alt"></i> Verified</span>
                <span><i class="fas fa-trophy"></i> 5,247+ Wins</span>
                <span><i class="fas fa-box-open"></i> Real Prizes</span>
            </div>
        </div>
    </div>

    <!-- Trust Badges -->
    <div class="trust-badges">
        <div class="container">
            <span><i class="fas fa-shield-alt"></i> 100% Verified</span>
            <span><i class="fas fa-trophy"></i> 5,247+ Winners</span>
            <span><i class="fas fa-box-open"></i> Real Prizes</span>
            <span><i class="fas fa-clock"></i> Free Daily Spin</span>
            <span><i class="fas fa-shipping-fast"></i> Free Shipping</span>
            <span><i class="fas fa-headset"></i> 24/7 Support</span>
        </div>
    </div>

    <!-- Main Content -->
    <main class="container">
        <!-- Grand Prize Display -->
        <section class="grand-prize" aria-labelledby="grandPrizeTitle">
            <div class="section-header">
                <h2 id="grandPrizeTitle"><i class="fas fa-crown"></i> TODAY'S GRAND PRIZE</h2>
                <div class="prize-timer">
                    <i class="fas fa-clock"></i> Draws in: <span id="grandPrizeTimer">12:34:56</span>
                </div>
            </div>
            <div class="prize-card">
                <div class="prize-image">
                    <img src="https://images.unsplash.com/photo-1578303512597-81e6cc155b3e?ixlib=rb-1.2.1&auto=format&fit=crop&w=300&q=80" 
                         alt="Nintendo Switch OLED with games" 
                         loading="lazy">
                    <div class="prize-badge">GRAND PRIZE</div>
                </div>
                <div class="prize-info">
                    <h3>$500 Nintendo Switch OLED + 5 Games</h3>
                    <p class="prize-description">Limited edition with Mario Kart, Zelda, and 3 popular games included</p>
                    <div class="prize-details">
                        <div class="detail">
                            <i class="fas fa-tag"></i>
                            <span>Value: <strong>$500</strong></span>
                        </div>
                        <div class="detail">
                            <i class="fas fa-user-check"></i>
                            <span>Winners today: <strong>1</strong></span>
                        </div>
                        <div class="detail">
                            <i class="fas fa-gift"></i>
                            <span>Available: <strong>Now</strong></span>
                        </div>
                        <div class="detail">
                            <i class="fas fa-users"></i>
                            <span>Entries: <strong>2,543</strong></span>
                        </div>
                    </div>
                    <div class="prize-action">
                        <button class="btn-spin-action" onclick="scrollToSpin()">
                            <i class="fas fa-redo"></i> Spin to Win!
                        </button>
                        <button class="btn-secondary" onclick="viewPrizeDetails()">
                            <i class="fas fa-info-circle"></i> Details
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Spin Wheel Section -->
        <section class="spin-section" id="spin" aria-labelledby="spinWheelTitle">
            <div class="section-header">
                <h2 id="spinWheelTitle"><i class="fas fa-redo"></i> DAILY SPIN WHEEL</h2>
                <p class="section-subtitle">Spin once every 24 hours for free!</p>
            </div>
            
            <div class="spin-container">
                <div class="wheel-container">
                    <div class="wheel-wrapper">
                        <canvas id="wheelCanvas" width="400" height="400"></canvas>
                        <div class="spin-pointer">
                            <i class="fas fa-caret-down"></i>
                        </div>
                    </div>
                </div>
                
                <!-- Timer & Controls -->
                <div class="spin-controls">
                    <div class="timer-container">
                        <h3><i class="fas fa-clock"></i> NEXT FREE SPIN IN:</h3>
                        <div class="timer" id="countdown">
                            <div class="time-unit">
                                <span id="hours">24</span>
                                <small>Hours</small>
                            </div>
                            <div class="time-separator">:</div>
                            <div class="time-unit">
                                <span id="minutes">00</span>
                                <small>Minutes</small>
                            </div>
                            <div class="time-separator">:</div>
                            <div class="time-unit">
                                <span id="seconds">00</span>
                                <small>Seconds</small>
                            </div>
                        </div>
                        <div class="timer-progress">
                            <div class="progress-bar">
                                <div class="progress-fill" id="spinProgress"></div>
                            </div>
                            <span class="progress-text">Next spin available at <span id="nextSpinTime">12:00 PM</span></span>
                        </div>
                    </div>
                    
                    <button class="spin-btn" id="spinButton">
                        <i class="fas fa-redo"></i> SPIN NOW
                        <span class="btn-subtext">Free spin available!</span>
                    </button>
                    
                    <div class="spin-stats">
                        <div class="stat-item">
                            <i class="fas fa-fire"></i>
                            <span>Spins today: <strong id="spinsToday">24,832</strong></span>
                        </div>
                        <div class="stat-item">
                            <i class="fas fa-gift"></i>
                            <span>Wins today: <strong id="winsToday">3,104</strong></span>
                        </div>
                    </div>
                    
                    <div class="spin-info">
                        <p><i class="fas fa-info-circle"></i> 1 free spin every 24 hours</p>
                        <p><i class="fas fa-gift"></i> Win real prizes instantly</p>
                        <p><i class="fas fa-user-check"></i> Login required to claim prizes</p>
                        <p><i class="fas fa-sync-alt"></i> Additional spins available for purchase</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Registration Prompt -->
        <section class="registration-prompt" aria-labelledby="regPromptTitle">
            <div class="reg-card">
                <div class="reg-icon">
                    <i class="fas fa-gift"></i>
                </div>
                <div class="reg-content">
                    <h3 id="regPromptTitle"><i class="fas fa-shield-alt"></i> Verify with $100 Gift Card</h3>
                    <p>Register with a Steam/Apple gift card to unlock prize claiming and participate in grand prize draws</p>
                    <div class="reg-benefits">
                        <span><i class="fas fa-check"></i> Claim unlimited prizes</span>
                        <span><i class="fas fa-check"></i> Join grand prize draws</span>
                        <span><i class="fas fa-check"></i> Priority shipping</span>
                        <span><i class="fas fa-check"></i> Verified badge</span>
                        <span><i class="fas fa-check"></i> Extra daily spin</span>
                        <span><i class="fas fa-check"></i> Higher win chances</span>
                    </div>
                    <div class="reg-actions">
                        <a href="register.html" class="btn-register">
                            <i class="fas fa-user-plus"></i> Register Now
                        </a>
                        <a href="login.html" class="btn-login-small">
                            <i class="fas fa-sign-in-alt"></i> Already have account?
                        </a>
                    </div>
                    <div class="reg-note">
                        <p><i class="fas fa-lock"></i> Your gift card balance remains fully usable after verification</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Recent Winners -->
        <section class="winners-section" aria-labelledby="winnersTitle">
            <div class="section-header">
                <h2 id="winnersTitle"><i class="fas fa-trophy"></i> RECENT WINNERS</h2>
                <a href="winners.html" class="view-all-link">View All Winners <i class="fas fa-arrow-right"></i></a>
            </div>
            <div class="winners-grid" id="recentWinnersGrid">
                <!-- Winners loaded via JavaScript -->
            </div>
            <div class="section-footer">
                <a href="winners.html" class="btn-view-all">
                    <i class="fas fa-users"></i> View All 5,247+ Winners
                </a>
            </div>
        </section>

        <!-- Prize Gallery -->
        <section class="prize-gallery" id="prizes" aria-labelledby="prizesTitle">
            <div class="section-header">
                <h2 id="prizesTitle"><i class="fas fa-gifts"></i> WINNING PRIZES</h2>
                <p class="section-subtitle">Amazing prizes you can win right now</p>
            </div>
            <div class="prizes-grid">
                <div class="prize-category">
                    <h3><i class="fas fa-mobile-alt"></i> Electronics</h3>
                    <div class="category-prizes">
                        <span class="prize-item">iPhone 17 Pro Max</span>
                        <span class="prize-item">Samsung Galaxy S24</span>
                        <span class="prize-item">MacBook Pro M3</span>
                        <span class="prize-item">iPad Pro 12.9"</span>
                        <span class="prize-item">AirPods Pro 2</span>
                        <span class="prize-item">Apple Watch Ultra</span>
                    </div>
                </div>
                <div class="prize-category">
                    <h3><i class="fas fa-gamepad"></i> Gaming</h3>
                    <div class="category-prizes">
                        <span class="prize-item">PlayStation 5 Pro</span>
                        <span class="prize-item">Xbox Series X</span>
                        <span class="prize-item">Nintendo Switch OLED</span>
                        <span class="prize-item">Gaming PC RTX 4090</span>
                        <span class="prize-item">VR Headset</span>
                        <span class="prize-item">Gaming Chair</span>
                    </div>
                </div>
                <div class="prize-category">
                    <h3><i class="fas fa-money-bill"></i> Cash & Cards</h3>
                    <div class="category-prizes">
                        <span class="prize-item">$5,000 Cash</span>
                        <span class="prize-item">$1,000 Amazon</span>
                        <span class="prize-item">$500 Steam</span>
                        <span class="prize-item">$250 Apple</span>
                        <span class="prize-item">$700 Google</span>
                        <span class="prize-item">$900 Netflix</span>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3><i class="fas fa-gift"></i> TrustCade</h3>
                    <p>Your trusted platform for winning real prizes through daily spins. Verified winners, transparent system.</p>
                    <div class="footer-trust">
                        <span><i class="fas fa-check-circle"></i> 100% Legit</span>
                        <span><i class="fas fa-shield-alt"></i> Secure</span>
                        <span><i class="fas fa-truck"></i> Free Shipping</span>
                    </div>
                </div>
                <div class="footer-section">
                    <h4>Quick Links</h4>
                    <a href="index.html"><i class="fas fa-home"></i> Home</a>
                    <a href="winners.html"><i class="fas fa-trophy"></i> Winners</a>
                    <a href="profile.html"><i class="fas fa-user"></i> My Profile</a>
                    <a href="#prizes"><i class="fas fa-gifts"></i> Prizes</a>
                    <a href="login.html"><i class="fas fa-sign-in-alt"></i> Login</a>
                    <a href="register.html"><i class="fas fa-user-plus"></i> Register</a>
                </div>
                <div class="footer-section">
                    <h4>Contact Info</h4>
                    <p><i class="fas fa-envelope"></i> support@trustcade.com</p>
                    <p><i class="fas fa-phone"></i> +1 (555) 123-4567</p>
                    <p><i class="fas fa-map-marker-alt"></i> 123 Prize Street, NY</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 TrustCade. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Win Notification -->
    <div id="winNotification" class="win-notification" hidden>
        <div class="notification-content">
            <div class="notification-icon">ðŸŽ‰</div>
            <div class="notification-text">
                <h4>Congratulations!</h4>
                <p>You won <span id="wonPrize">iPhone 17</span>!</p>
                <small>Value: <span id="wonValue">$1,299</span></small>
            </div>
            <a href="profile.html" class="notification-btn">Claim Now</a>
            <button class="notification-close" onclick="document.getElementById('winNotification').hidden = true">&times;</button>
        </div>
    </div>

    <!-- Login Modal -->
    <div id="loginModal" class="modal" hidden>
        <div class="modal-content">
            <button class="modal-close" onclick="document.getElementById('loginModal').hidden = true">&times;</button>
            <h2><i class="fas fa-sign-in-alt"></i> Login to TrustCade</h2>
            <form id="quickLoginForm" onsubmit="event.preventDefault(); handleLogin()">
                <input type="email" placeholder="Email Address" id="loginEmail" required>
                <input type="password" placeholder="Password" id="loginPassword" required>
                <button type="submit" class="spin-btn">Login</button>
            </form>
            <p class="modal-footer">
                New user? <a href="register.html">Register here</a>
            </p>
        </div>
    </div>

    <!-- Back to Top Button -->
    <button id="backToTop" class="back-to-top">
        <i class="fas fa-chevron-up"></i>
    </button>

    <!-- JavaScript -->
    <script>
        // ========================
        // SPIN WHEEL CLASS
        // ========================
        class SpinWheel {
            constructor() {
                this.canvas = document.getElementById('wheelCanvas');
                this.ctx = this.canvas.getContext('2d');
                this.prizes = [
                    { name: 'iPhone 17', value: '$1,299', color: '#FF6B6B' },
                    { name: '$500 Cash', value: '$500', color: '#4ECDC4' },
                    { name: 'Headphones', value: '$299', color: '#FFD166' },
                    { name: 'Try Again', value: 'Try Again', color: '#06D6A0' },
                    { name: 'PS5', value: '$499', color: '#118AB2' },
                    { name: '$900 Card', value: '$900', color: '#EF476F' },
                    { name: 'Watch', value: '$399', color: '#073B4C' },
                    { name: 'MacBook', value: '$1,299', color: '#7209B7' }
                ];
                this.isSpinning = false;
                this.lastSpinTime = localStorage.getItem('lastSpinTime') || null;
                
                this.init();
            }
            
            init() {
                this.drawWheel();
                this.updateSpinButton();
                
                // Check if user can spin
                const canSpin = this.canUserSpin();
                document.getElementById('spinButton').disabled = !canSpin;
            }
            
            drawWheel() {
                const centerX = this.canvas.width / 2;
                const centerY = this.canvas.height / 2;
                const radius = Math.min(centerX, centerY) - 10;
                const sliceAngle = (2 * Math.PI) / this.prizes.length;
                
                this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);
                
                // Draw each slice
                for (let i = 0; i < this.prizes.length; i++) {
                    this.ctx.beginPath();
                    this.ctx.moveTo(centerX, centerY);
                    this.ctx.arc(centerX, centerY, radius, i * sliceAngle, (i + 1) * sliceAngle);
                    this.ctx.closePath();
                    
                    // Fill with color
                    this.ctx.fillStyle = this.prizes[i].color;
                    this.ctx.fill();
                    this.ctx.strokeStyle = '#FFFFFF';
                    this.ctx.lineWidth = 2;
                    this.ctx.stroke();
                    
                    // Draw text
                    this.ctx.save();
                    this.ctx.translate(centerX, centerY);
                    this.ctx.rotate(i * sliceAngle + sliceAngle / 2);
                    this.ctx.textAlign = 'right';
                    this.ctx.fillStyle = '#FFFFFF';
                    this.ctx.font = 'bold 16px Arial';
                    this.ctx.fillText(this.prizes[i].name, radius - 20, 5);
                    this.ctx.restore();
                }
                
                // Draw center circle
                this.ctx.beginPath();
                this.ctx.arc(centerX, centerY, 20, 0, 2 * Math.PI);
                this.ctx.fillStyle = '#2D3748';
                this.ctx.fill();
                this.ctx.strokeStyle = '#FFFFFF';
                this.ctx.lineWidth = 3;
                this.ctx.stroke();
            }
            
            canUserSpin() {
                if (!this.lastSpinTime) return true;
                
                const lastSpin = new Date(this.lastSpinTime);
                const now = new Date();
                const hoursDiff = (now - lastSpin) / (1000 * 60 * 60);
                
                return hoursDiff >= 24;
            }
            
            getTimeUntilNextSpin() {
                if (!this.lastSpinTime) return { hours: 0, minutes: 0, seconds: 0 };
                
                const lastSpin = new Date(this.lastSpinTime);
                const nextSpin = new Date(lastSpin.getTime() + (24 * 60 * 60 * 1000));
                const now = new Date();
                
                if (now >= nextSpin) return { hours: 0, minutes: 0, seconds: 0 };
                
                const diff = nextSpin - now;
                const hours = Math.floor(diff / (1000 * 60 * 60));
                const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((diff % (1000 * 60)) / 1000);
                
                return { hours, minutes, seconds };
            }
            
            updateSpinButton() {
                const spinBtn = document.getElementById('spinButton');
                const { hours, minutes, seconds } = this.getTimeUntilNextSpin();
                
                if (hours === 0 && minutes === 0 && seconds === 0) {
                    spinBtn.disabled = false;
                    spinBtn.querySelector('.btn-subtext').textContent = 'Free spin available!';
                } else {
                    spinBtn.disabled = true;
                    spinBtn.querySelector('.btn-subtext').textContent = 
                        `Available in ${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                }
            }
            
            spin() {
                if (this.isSpinning || !this.canUserSpin()) return;
                
                this.isSpinning = true;
                const spinBtn = document.getElementById('spinButton');
                spinBtn.disabled = true;
                spinBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> SPINNING...';
                
                // Random winner selection
                const winnerIndex = Math.floor(Math.random() * this.prizes.length);
                const spins = 5 + Math.random() * 3; // 5-8 rotations
                const totalRotation = spins * 360 + (winnerIndex * (360 / this.prizes.length));
                
                // Animation
                let currentRotation = 0;
                const animate = () => {
                    currentRotation += 15;
                    this.canvas.style.transform = `rotate(${currentRotation}deg)`;
                    
                    if (currentRotation < totalRotation) {
                        requestAnimationFrame(animate);
                    } else {
                        // Spin complete
                        this.isSpinning = false;
                        this.lastSpinTime = new Date().toISOString();
                        localStorage.setItem('lastSpinTime', this.lastSpinTime);
                        
                        // Update UI
                        spinBtn.innerHTML = '<i class="fas fa-redo"></i> SPIN NOW';
                        this.updateSpinButton();
                        this.showResult(this.prizes[winnerIndex]);
                        
                        // Update stats
                        this.updateStats();
                    }
                };
                
                animate();
            }
            
            showResult(prize) {
                const notification = document.getElementById('winNotification');
                const prizeElement = document.getElementById('wonPrize');
                const valueElement = document.getElementById('wonValue');
                
                prizeElement.textContent = prize.name;
                valueElement.textContent = prize.value;
                
                // Show notification
                notification.hidden = false;
                
                // Auto-hide after 10 seconds
                setTimeout(() => {
                    notification.hidden = true;
                }, 10000);
            }
            
            updateStats() {
                // Increment spins counter
                let spinsToday = parseInt(localStorage.getItem('spinsToday') || '24832');
                spinsToday++;
                localStorage.setItem('spinsToday', spinsToday.toString());
                document.getElementById('spinsToday').textContent = spinsToday.toLocaleString();
                
                // Randomly increment wins (12.5% chance)
                if (Math.random() < 0.125) {
                    let winsToday = parseInt(localStorage.getItem('winsToday') || '3104');
                    winsToday++;
                    localStorage.setItem('winsToday', winsToday.toString());
                    document.getElementById('winsToday').textContent = winsToday.toLocaleString();
                }
            }
        }

        // ========================
        // COUNTDOWN TIMER
        // ========================
        function updateCountdown() {
            const now = new Date();
            const nextMidnight = new Date(now);
            nextMidnight.setHours(24, 0, 0, 0);
            
            const diff = nextMidnight - now;
            const hours = Math.floor(diff / (1000 * 60 * 60));
            const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((diff % (1000 * 60)) / 1000);
            
            // Update display
            document.getElementById('hours').textContent = hours.toString().padStart(2, '0');
            document.getElementById('minutes').textContent = minutes.toString().padStart(2, '0');
            document.getElementById('seconds').textContent = seconds.toString().padStart(2, '0');
            
            // Update progress bar
            const progress = ((24 * 60 * 60 * 1000 - diff) / (24 * 60 * 60 * 1000)) * 100;
            document.getElementById('spinProgress').style.width = `${progress}%`;
            
            // Update next spin time
            const nextSpinTime = nextMidnight.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
            document.getElementById('nextSpinTime').textContent = nextSpinTime;
        }

        // ========================
        // WINNERS DISPLAY
        // ========================
        function loadWinners() {
            const winners = [
                { name: 'LuckyStar23', prize: 'iPhone 17 Pro', time: '2 minutes ago' },
                { name: 'MikeWins', prize: '$500 Cash', time: '15 minutes ago' },
                { name: 'SarahG', prize: 'PS5 Pro', time: '1 hour ago' },
                { name: 'JohnDoe', prize: 'MacBook Pro', time: '3 hours ago' },
                { name: 'PrizeHunter', prize: '$1,000 Amazon', time: '5 hours ago' },
                { name: 'WinMaster', prize: 'Apple Watch', time: '8 hours ago' }
            ];
            
            const grid = document.getElementById('recentWinnersGrid');
            grid.innerHTML = '';
            
            winners.forEach(winner => {
                const initial = winner.name.charAt(0);
                const card = document.createElement('div');
                card.className = 'winner-card';
                card.innerHTML = `
                    <div class="winner-avatar">${initial}</div>
                    <div class="winner-info">
                        <h4>${winner.name}</h4>
                        <p class="winner-prize">${winner.prize}</p>
                        <span class="winner-time">${winner.time}</span>
                    </div>
                `;
                grid.appendChild(card);
            });
        }

        // ========================
        // LOGIN HANDLER
        // ========================
        function handleLogin() {
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            // Simple validation (in real app, this would call a backend)
            if (email && password) {
                alert('Login successful! In a real app, this would redirect to your profile.');
                document.getElementById('loginModal').hidden = true;
            } else {
                alert('Please enter email and password');
            }
        }

        // ========================
        // INITIALIZATION
        // ========================
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize spin wheel
            const wheel = new SpinWheel();
            
            // Set up spin button
            document.getElementById('spinButton').addEventListener('click', () => wheel.spin());
            
            // Load winners
            loadWinners();
            
            // Start countdown timer
            updateCountdown();
            setInterval(updateCountdown, 1000);
            
            // Hide loading screen
            setTimeout(() => {
                document.getElementById('loadingScreen').style.opacity = '0';
                setTimeout(() => {
                    document.getElementById('loadingScreen').style.display = 'none';
                }, 300);
            }, 1000);
            
            // Mobile menu
            const mobileMenuBtn = document.getElementById('mobileMenuBtn');
            const mobileMenu = document.getElementById('mobileMenu');
            const mobileMenuClose = document.getElementById('mobileMenuClose');
            
            mobileMenuBtn.addEventListener('click', () => {
                mobileMenu.classList.toggle('active');
            });
            
            mobileMenuClose.addEventListener('click', () => {
                mobileMenu.classList.remove('active');
            });
            
            // Login modal
            document.getElementById('loginBtn').addEventListener('click', () => {
                document.getElementById('loginModal').hidden = false;
            });
            
            // Back to top button
            const backToTop = document.getElementById('backToTop');
            window.addEventListener('scroll', () => {
                if (window.scrollY > 300) {
                    backToTop.classList.add('visible');
                } else {
                    backToTop.classList.remove('visible');
                }
            });
            
            backToTop.addEventListener('click', () => {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
        });

        // ========================
        // HELPER FUNCTIONS
        // ========================
        function scrollToSpin() {
            document.getElementById('spin').scrollIntoView({ behavior: 'smooth' });
        }
        
        function viewPrizeDetails() {
            alert('Grand Prize Details:\n\nâ€¢ Nintendo Switch OLED (Limited Edition)\nâ€¢ Includes 5 Popular Games\nâ€¢ Value: $500\nâ€¢ Worldwide Shipping\nâ€¢ Winner Announced Daily');
        }
    </script>
</body>
        </html>
