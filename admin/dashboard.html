<!DOCTYPE html>
<html>
<head>
    <title>Admin Dashboard</title>
    <style>
        body { 
            font-family: Arial; 
            margin: 0; 
            padding: 20px; 
            background: #f5f5f5; 
        }
        .dashboard { 
            max-width: 1200px; 
            margin: 0 auto; 
        }
        .stats { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); 
            gap: 20px; 
            margin-bottom: 30px; 
        }
        .stat-card { 
            background: white; 
            padding: 20px; 
            border-radius: 10px; 
            box-shadow: 0 2px 10px rgba(0,0,0,0.1); 
        }
        table { 
            width: 100%; 
            background: white; 
            border-radius: 10px; 
            overflow: hidden; 
            box-shadow: 0 2px 10px rgba(0,0,0,0.1); 
        }
        th, td { 
            padding: 15px; 
            text-align: left; 
            border-bottom: 1px solid #eee; 
        }
    </style>
</head>
<body>
    <div class="dashboard">
        <h1>üëë Admin Dashboard</h1>
        <button onclick="logout()" style="background: red; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer;">
            Logout
        </button>
        
        <div class="stats">
            <div class="stat-card">
                <h3>üìä Total Users</h3>
                <h2 id="totalUsers">0</h2>
            </div>
            <div class="stat-card">
                <h3>üéÅ Total Wins</h3>
                <h2 id="totalWins">0</h2>
            </div>
            <div class="stat-card">
                <h3>üîÑ Total Spins</h3>
                <h2 id="totalSpins">0</h2>
            </div>
        </div>
        
        <h2>Recent Activity</h2>
        <table id="activityTable">
            <tr><th>User</th><th>Action</th><th>Time</th></tr>
        </table>
    </div>
    
    <script>
    // Check if admin
    if (localStorage.getItem('isAdmin') !== 'true') {
        window.location.href = 'admin-login.html';
    }
    
    function logout() {
        localStorage.removeItem('isAdmin');
        window.location.href = 'index.html';
    }
    
    // Load data
    function loadData() {
        const wins = JSON.parse(localStorage.getItem('trustcade_wins') || '[]');
        const spins = localStorage.getItem('trustcade_spins') || '0';
        
        document.getElementById('totalWins').textContent = wins.length;
        document.getElementById('totalSpins').textContent = spins;
        document.getElementById('totalUsers').textContent = localStorage.getItem('trustcade_user') ? '1+' : '0';
        
        // Show recent wins
        const table = document.getElementById('activityTable');
        wins.slice(-5).forEach(win => {
            const row = table.insertRow(-1);
            row.innerHTML = `<td>User</td><td>Won ${win.prize}</td><td>${win.date}</td>`;
        });
    }
    
    loadData();
    </script>
</body>
</html>
